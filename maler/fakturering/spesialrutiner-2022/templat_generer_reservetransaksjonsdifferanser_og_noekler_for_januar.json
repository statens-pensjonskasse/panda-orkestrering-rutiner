{
  "navn": "Spesialrutine - header kommer her -",
  "gyldigVersjon": "0.0.46",
  "variabler": {
    "grunnlagsdataMappe": "#{grunnlagsdatamappeNå}",
    "bokføringsperiode01": "202112",
    "bokføringsperiode02": "202201",
    "fremskrivingsdato01": "2022.01.01",
    "fremskrivingsdato02": "2022.02.01"
  },
  "operasjoner": [
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "kontofoering",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_reserveberegning/${fremskrivingsdato01}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "feilmeldinger",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_reserveberegning/${fremskrivingsdato01}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato01}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_11",
      "filnavnTil": "etterlatte",
      "typeindikator": "ETTERLATT",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_11",
      "filnavnTil": "personfil",
      "typeindikator": "PERSON",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "pa_fak_ba_11",
      "modus": "flette_feilende_medlemmer_med_filtrering",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "flettede_kontofoeringer",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato01}",
      "komprimerOutput": true
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },






    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_02",
      "filnavnTil": "personfil",
      "typeindikator": "PERSON",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_filer_fra_aktuar_til_batch",
      "premiemodell": "hbf_fls",
      "periode": "${bokføringsperiode01}",
      "prognoseVersjon": "avtaleliste",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_02",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato01}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_02",
      "modus": "premieaggregering_med_filtrering",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "totalpremier_medlem",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "premieaggregering/${fremskrivingsdato01}"
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },





    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "kontofoering",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_reserveberegning/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "feilmeldinger",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_reserveberegning/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_11",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_11",
      "filnavnTil": "etterlatte",
      "typeindikator": "ETTERLATT",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_11",
      "filnavnTil": "personfil",
      "typeindikator": "PERSON",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "pa_fak_ba_11",
      "modus": "flette_feilende_medlemmer_med_filtrering",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "flettede_kontofoeringer",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato02}",
      "komprimerOutput": true
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_11",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },






    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "hent_spesifisert_del_av_medlemsdata",
      "batchTil": "pa_fak_ba_02",
      "filnavnTil": "personfil",
      "typeindikator": "PERSON",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_filer_fra_aktuar_til_batch",
      "premiemodell": "hbf_fls",
      "periode": "${bokføringsperiode02}",
      "prognoseVersjon": "avtaleliste",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_02",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_02",
      "modus": "premieaggregering_med_filtrering",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "totalpremier_medlem",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "premieaggregering/${fremskrivingsdato02}"
    },
    {
      "handling": "pa_fak_ba_02",
      "modus": "reserveaggregering_for_medlem",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "totalreserver",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "reserveaggregering_for_medlem/${fremskrivingsdato02}"
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_02",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },






    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_05",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "administrasjonspremieunderlag",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_05",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_administrasjonspremieunderlag/${fremskrivingsDato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_05",
      "modus": "generer_administrasjonspremier",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "bokføringsperiode": "${bokføringsperiode02}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "administrasjonspremie",
      "batch": "pa_fak_ba_05",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "generer_administrasjonspremier/${bokføringsperiode02}"
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_05",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },





    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "totalpremier_medlem",
      "batchFra": "pa_fak_ba_02",
      "batchTil": "pa_fak_ba_03",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "premieaggregering/${fremskrivingsdato01}",
      "kommentar": "Henter fra forrige grunnlagsdatamappe"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "totalpremier_medlem",
      "batchFra": "pa_fak_ba_02",
      "batchTil": "pa_fak_ba_03",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "premieaggregering/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_03",
      "modus": "reservetransaksjonsdifferanse_for_medlem",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "førsteKjøring": "${fremskrivingsdato01}",
      "andreKjøring": "${fremskrivingsdato02}",
      "bokføringsperiode": "${bokføringsperiode02}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "reservetransaksjonsdifferanser_medlem",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "reservetransaksjonsdifferanse_for_medlem/${bokføringsperiode02}"
    },






    {
      "handling": "kopier_filer_fra_aktuar_til_batch",
      "premiemodell": "hbf_fls",
      "periode": "${bokføringsperiode02}",
      "prognoseVersjon": "avtaleliste",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "administrasjonspremie",
      "batchFra": "pa_fak_ba_05",
      "batchTil": "pa_fak_ba_03",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "generer_administrasjonspremier/${bokføringsperiode02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_03",
      "modus": "aggregert_reservetransaksjonsdifferanse",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "førsteKjøring": "${fremskrivingsdato01}",
      "andreKjøring": "${fremskrivingsdato02}",
      "bokføringsperiode": "${bokføringsperiode02}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "aggregerte_reservetransaksjonsdifferanser",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "aggregert_reservetransaksjonsdifferanse/${bokføringsperiode02}"
    },






    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_03",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato01}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "kopier_fra_arkiv_til_batch",
      "filnavn": "flettede_kontofoeringer",
      "batchFra": "pa_fak_ba_11",
      "batchTil": "pa_fak_ba_03",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "flette_feilende_medlemmer/${fremskrivingsdato02}",
      "kommentar": "Henter fra siste grunnlagsdatamappe"
    },
    {
      "handling": "pa_fak_ba_03",
      "modus": "reserveoppbygging",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "førsteKjøring": "${fremskrivingsdato01}",
      "andreKjøring": "${fremskrivingsdato02}",
      "bokføringsperiode": "${bokføringsperiode02}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "reserveoppbygging",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "reserveoppbygging/${bokføringsperiode02}",
      "komprimerOutput": true
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_03",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },






    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "kopier_filer_fra_aktuar_til_batch",
      "premiemodell": "hbf_fls",
      "periode": "${bokføringsperiode02}",
      "prognoseVersjon": "avtaleliste",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "totalreserver",
      "batchFra": "pa_fak_ba_02",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "reserveaggregering_for_medlem/${fremskrivingsdato02}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "reservetransaksjonsdifferanser_medlem",
      "batchFra": "pa_fak_ba_03",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "reservetransaksjonsdifferanse_for_medlem/${bokføringsperiode02}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "aggregerte_reservetransaksjonsdifferanser",
      "batchFra": "pa_fak_ba_03",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "aggregert_reservetransaksjonsdifferanse/${bokføringsperiode02}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "administrasjonspremie",
      "batchFra": "pa_fak_ba_05",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "generer_administrasjonspremier/${bokføringsperiode02}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "administrasjonspremieunderlag",
      "batchFra": "pa_res_ba_01",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "panda_administrasjonspremieunderlag/${fremskrivingsdato02}"
    },
    {
      "handling": "pa_fak_ba_08",
      "modus": "generer_noekkelunderlag",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "noekkelunderlag_faktiske_premier",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "generer_noekkelunderlag/${bokføringsperiode02}"
    },





    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    },
    {
      "handling": "konkatiner_og_kopier_fra_arkiv_til_batch",
      "filnavn": "noekkelunderlag_faktiske_premier",
      "batchFra": "pa_fak_ba_08",
      "batchTil": "pa_fak_ba_08",
      "grunnlagsdataMappeTil": "${grunnlagsdataMappe}",
      "nøkkel": "generer_noekkelunderlag/${bokføringsperiode02}"
    },
    {
      "handling": "pa_fak_ba_08",
      "modus": "aggreger_faktiske_premier",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "validerFeilendeMedlemmer": true
    },
    {
      "handling": "arkiver_batch_output",
      "filnavn": "aggregerte_noekler_faktiske_premier",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}",
      "nøkkel": "aggreger_faktiske_premier/${bokføringsperiode02}"
    },
    {
      "handling": "rydd_grunnlagsdata_for_batch",
      "batch": "pa_fak_ba_08",
      "grunnlagsdataMappe": "${grunnlagsdataMappe}"
    }
  ]
}